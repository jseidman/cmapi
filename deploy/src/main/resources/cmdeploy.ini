# Licensed to Cloudera, Inc. under one or more contributor license agreements.
# See the NOTICE file distributed with this work for additional information
# regarding copyright ownership.  Cloudera, Inc. licenses this file
# to you under the Apache License, Version 2.0 (the "License"); 
# you may not use this file except in compliance  with the License.  
# You may obtain a copy of the License at
# 
#    http:www.apache.org/licenses/LICENSE-2.0
# 
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
 
# Configuration parameters for deploying a cluster via the Cloudera Manager API

[CM]
# When deploying a cluster on EC2, some calls will require the public hostname
# of the CM host, others the private hostname. See the code for more details:
cm_public_hostname=ec2-54-184-206-161.us-west-2.compute.amazonaws.com
cm_private_hostname=ip-10-41-19-94.us-west-2.compute.internal
cm_port=7180
# CM server login credentials:
cm_user=admin
cm_password=admin

# Configuration parameters for the cluster to be deployed. 
# Although CM can deploy and manage multiple clusters, for simplicity this 
# code currently only deploys a single cluster.
[CLUSTER]
# Name for this cluster (used in the CM management UI):
cluster_name=CM API TEST
# CDH version for this cluster. See com.cloudera.api.model.ApiClusterVersion for
# valid versions.
cluster_version=CDH5
# Comma delimited list of hostnames for DataNode hosts.
# If using EC2, set to internal hostnames:
cluster_hosts=ip-10-43-15-78.us-west-2.compute.internal,ip-10-33-20-118.us-west-2.compute.internal,ip-10-43-21-70.us-west-2.compute.internal
# Comma delimited list of hostnames for ZooKeeper hosts.
# If using EC2, set to internal hostnames:
zk_hosts=ip-10-43-15-78.us-west-2.compute.internal,ip-10-33-20-118.us-west-2.compute.internal,ip-10-43-21-70.us-west-2.compute.internal
# Service name for ZooKeeper
zk_name=ZOOKEEPER-1
# Comma delimited list of services to deploy as part of cluster.
services=ZOOKEEPER,HDFS,YARN

########################################################################
# Configuration parameters for the Cloudera Manager management service. 
########################################################################
[MGMT_SERVICE]
# Name for management service. Displayed in the CM UI:
mgmt_service_name=MGMT
# Comma-seperated list of management roles to be deployed. 
cm_management_roletypes=HOSTMONITOR,SERVICEMONITOR,ACTIVITYMONITOR,REPORTSMANAGER,EVENTSERVER,ALERTPUBLISHER

# Configuration parameters for specific management roles. Finding the actual
# parameter names seems tricky, but the "/cm/service/roles" call seems to 
# be useful to see all of the possible values for a service - for example:
# api/v10/cm/service/roles/ACTIVITYMONITOR-1/config?view=full
#
# Most of the values below can be found in
#  /etc/cloudera-scm-server/db.mgmt.properties
# on the CM server host.
[HOSTMONITOR]

[SERVICEMONITOR]

[ACTIVITYMONITOR]
firehose_database_host=ip-10-41-19-94.us-west-2.compute.internal:7432
firehose_database_user=amon
firehose_database_password=m2KDFPnK8a
firehose_database_type=postgresql
firehose_database_name=amon

[REPORTSMANAGER]
headlamp_database_host=ip-10-41-19-94.us-west-2.compute.internal:7432
headlamp_database_user=rman
headlamp_database_password=FPKcUNXgEQ
headlamp_database_type=postgresql
headlamp_database_name=rman

[EVENTSERVER]

[ALERTPUBLISHER]

########################################################################
# ZooKeeper service configuration parameters
########################################################################
[ZOOKEEPER_SERVICE_CONFIG]
zookeeper_datadir_autocreate=true

# ZooKeeper role config for ZK Server:
[SERVER]
quorumPort=2888
electionPort=3888
dataLogDir=/var/lib/zookeeper
dataDir=/var/lib/zookeeper
maxClientCnxns=1024

########################################################################
# HDFS service configuration parameters
########################################################################
[HDFS]
hdfs_name=HDFS-1
hdfs_namenode_host=ip-10-41-19-94.us-west-2.compute.internal
hdfs_secondary_namenode_host=ip-10-41-19-94.us-west-2.compute.internal
hdfs_datanode_hosts=ip-10-43-15-78.us-west-2.compute.internal,ip-10-33-20-118.us-west-2.compute.internal,ip-10-43-21-70.us-west-2.compute.internal
hdfs_gateway_hosts=ip-10-41-19-94.us-west-2.compute.internal

[HDFS_SERVICE_CONFIG]
dfs_replication=3

# HDFS role configurations:
[NAMENODE]
dfs_name_dir_list=/data/dfs/dn
dfs_namenode_handler_count=30

[SECONDARYNAMENODE]
fs_checkpoint_dir_list=/data/dfs/snn

[DATANODE]
dfs_data_dir_list=/data/dfs/dn
dfs_datanode_handler_count=30
dfs_datanode_du_reserved=1073741824
dfs_datanode_failed_volumes_tolerated=0
dfs_datanode_data_dir_perm=755

[HDFS_GATEWAY]
dfs_client_use_trash=true

########################################################################
# YARN service configuration parameters
########################################################################
[YARN]
yarn_name=YARN-1
yarn_resourcemanager_host=ip-10-41-19-94.us-west-2.compute.internal
yarn_jobhistory_server_host=ip-10-41-19-94.us-west-2.compute.internal
yarn_nodemanager_hosts=ip-10-43-15-78.us-west-2.compute.internal,ip-10-33-20-118.us-west-2.compute.internal,ip-10-43-21-70.us-west-2.compute.internal
yarn_gateway_hosts=ip-10-41-19-94.us-west-2.compute.internal

[YARN_SERVICE_CONFIG]
# Should be the same value as hdfs_name:
hdfs_service=HDFS-1

# YARN role configurations:
[NODEMANAGER]
yarn_nodemanager_local_dirs=/data/yarn/nm

[RESOURCEMANAGER]

[JOBHISTORY]

[YARN_GATEWAY]
# Mapreduce Submit Replication should be set to <= number of DataNodes:
mapred_submit_replication=3